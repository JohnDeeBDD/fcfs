<?php

class StoryClickListTest extends \Codeception\TestCase\WPTestCase {
	/**
	 * @test
	 */
	public function theStorySoFar(){

	    $data = ['post_title'    => "test"];
        $postID = wp_insert_post( $data );

        $Action = new \FCFS\Action_MakeFCFS;
        $Action->makeFCFS($postID);
        
        $ClickList = new \FCFS\UserClickList;
        $ClickList->doMakeOpenForClicks($postID);
        
        $userData = ['user_email' => 'email1@email1.com','user_login' => 'TestUser', 'role' => 'administrator'];
	    $userID = $this->factory->user->create( $userData );
        
        $Action2 = new \FCFS\Action_VisitFCFS_Page;
        $Action2->doVisitPage($postID, $userID);
        
        $userData = ['user_email' => 'email2@email2.com','user_login' => 'TestUser2', 'role' => 'subscriber'];
	    $user2ID = $this->factory->user->create( $userData );
	    $Action2->doVisitPage($postID, $userID);
        
        $ClickList->doReturnClicklist($postID);
	}   
}	